<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="AI Document Assistant ‚Äî Upload PDFs and ask intelligent questions powered by RAG pipeline">
    <title>NeuralDoc AI | RAG-Powered Document Intelligence</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>

    <!-- Animated Mesh Background -->
    <div class="mesh-bg">
        <div class="mesh-gradient mesh-1"></div>
        <div class="mesh-gradient mesh-2"></div>
        <div class="mesh-gradient mesh-3"></div>
        <div class="mesh-gradient mesh-4"></div>
        <div class="grid-overlay"></div>
    </div>

    <!-- App Shell -->
    <div class="app-shell">

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-top">
                <div class="brand">
                    <div class="brand-icon">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
                        </svg>
                    </div>
                    <div class="brand-text">
                        <span class="brand-name">NeuralDoc</span>
                        <span class="brand-tag">RAG Engine v1.0</span>
                    </div>
                </div>

                <button class="new-chat-btn" id="newChatBtn" onclick="clearChat()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="12" y1="5" x2="12" y2="19" />
                        <line x1="5" y1="12" x2="19" y2="12" />
                    </svg>
                    New Chat
                </button>
            </div>

            <!-- Upload Section -->
            <div class="sidebar-section">
                <div class="section-label">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                        <polyline points="14 2 14 8 20 8" />
                    </svg>
                    Knowledge Base
                </div>

                <div class="drop-zone" id="dropZone">
                    <div class="drop-zone-inner">
                        <div class="drop-icon-wrap">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                <polyline points="17 8 12 3 7 8" />
                                <line x1="12" y1="3" x2="12" y2="15" />
                            </svg>
                        </div>
                        <span class="drop-label">Drop PDF here</span>
                        <span class="drop-sublabel">or click to browse</span>
                    </div>
                    <input type="file" id="pdfFile" accept=".pdf" hidden>
                </div>

                <!-- File Preview -->
                <div class="file-chip" id="filePreview" style="display:none;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                        <polyline points="14 2 14 8 20 8" />
                    </svg>
                    <span class="file-chip-name" id="fileName"></span>
                    <button class="file-chip-remove" id="removeFileBtn">&times;</button>
                </div>

                <button class="upload-btn" id="uploadBtn" onclick="uploadPDF()">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="17 8 12 3 7 8" />
                        <line x1="12" y1="3" x2="12" y2="15" />
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                    </svg>
                    Upload & Index
                </button>

                <div class="progress-track" id="progressContainer" style="display:none;">
                    <div class="progress-fill" id="progressBar"></div>
                </div>

                <div class="status-msg" id="uploadStatus"></div>
            </div>

            <!-- Indexed Documents -->
            <div class="sidebar-section" id="indexedDocsSection" style="display:none;">
                <div class="section-label">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
                    </svg>
                    Knowledge Assets
                </div>
                <div class="indexed-list" id="indexedFileList">
                    <!-- Files injected by JS -->
                </div>
            </div>

            <!-- System Info -->
            <div class="sidebar-bottom">
                <div class="sys-info">
                    <div class="sys-row">
                        <span class="sys-label">Model</span>
                        <span class="sys-value">Ollama (Local)</span>
                    </div>
                    <div class="sys-row">
                        <span class="sys-label">Embeddings</span>
                        <span class="sys-value">SentenceTransformer</span>
                    </div>
                    <div class="sys-row">
                        <span class="sys-label">Vector DB</span>
                        <span class="sys-value">FAISS</span>
                    </div>
                    <div class="sys-row">
                        <span class="sys-label">Status</span>
                        <span class="sys-value sys-online"><span class="pulse-dot"></span>Online</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Chat Area -->
        <main class="chat-main">

            <!-- Top Bar -->
            <div class="topbar">
                <button class="sidebar-toggle" id="sidebarToggle" onclick="toggleSidebar()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="3" y1="6" x2="21" y2="6" />
                        <line x1="3" y1="12" x2="21" y2="12" />
                        <line x1="3" y1="18" x2="21" y2="18" />
                    </svg>
                </button>
                <div class="topbar-title">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                    </svg>
                    Document Q&A
                </div>
                <div class="topbar-right">
                    <span class="model-badge">
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
                        </svg>
                        RAG Pipeline
                    </span>
                </div>
            </div>

            <!-- Messages Area -->
            <div class="messages-area" id="chatMessages">
                <div class="empty-state" id="emptyState">
                    <div class="empty-state-icon">
                        <div class="orbit-ring">
                            <div class="orbit-dot"></div>
                        </div>
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="url(#emptyGrad)"
                            stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <defs>
                                <linearGradient id="emptyGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#a78bfa" />
                                    <stop offset="100%" style="stop-color:#60a5fa" />
                                </linearGradient>
                            </defs>
                            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
                        </svg>
                    </div>
                    <h2 class="empty-title">What would you like to know?</h2>
                    <p class="empty-desc">Upload a document and ask questions ‚Äî I'll find answers from your knowledge
                        base.</p>
                    <div class="suggestion-chips">
                        <button class="suggestion" onclick="useSuggestion(this)">üìÑ Summarize my document</button>
                        <button class="suggestion" onclick="useSuggestion(this)">üîç Find key information</button>
                        <button class="suggestion" onclick="useSuggestion(this)">üí° Explain a concept</button>
                    </div>
                </div>
            </div>

            <!-- Input Bar -->
            <div class="input-bar">
                <div class="input-container">
                    <input type="text" id="question" placeholder="Ask anything about your documents..."
                        autocomplete="off" spellcheck="false">
                    <div class="input-actions">
                        <span class="char-count" id="charCount"></span>
                        <button class="send-btn" id="askBtn" onclick="askQuestion()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="22" y1="2" x2="11" y2="13" />
                                <polygon points="22 2 15 22 11 13 2 9 22 2" />
                            </svg>
                        </button>
                    </div>
                </div>
                <p class="input-footnote">NeuralDoc uses RAG to retrieve context from your documents before generating
                    answers.</p>
            </div>
        </main>

    </div>

    <script src="/static/script.js"></script>
</body>

</html>